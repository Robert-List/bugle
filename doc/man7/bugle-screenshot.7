.TH screenshot 7 "May 2006" BUGLE "User manual"
.SH NAME
screenshot \- takes screenshots and captures video
.SH SYNOPSIS
.nf
filterset screenshot
{
    filename "bugle.ppm"
    key_screenshot "C-A-S-S"
}

filterset screenshot C-V inactive
{
    video "yes"
    filename "bugle.avi"
    codec "mpeg4"
    bitrate "1000000"
    allframes "yes"
}
.fi
.SH DESCRIPTION
The screenshot filter-set can be used in one of two modes,
corresponding to the two examples above. In the first, a particular
key-press causes a screenshot to be taken, which is written to file in
.BR ppm (5)
format. In the second, a video stream is captured and encoded to a
range of formats with
.BR ffmpeg(1).
.SH OPTIONS
.TP
.B video
This option controls the mode: either screenshots on request or a video
stream. This filter-set supports activation and deactivation, so it is
possible to record video only on demand.
.TP
.B filename
The file to which the image/video is written. In the case of an image,
if the filename contains a % it is used as a format string for
.BR sprintf (3)
with the frame number passed as the parameter.
.TP
.B key_screenshot
The key-sequence used to capture a screenshot.
.TP
.B codec
The codec to use when capturing a video. See
.BR ffmpeg (1)
for a list of valid codecs.
.TP
.B bitrate
The approximate number of bits per second to use for video encoding.
.TP
.B allframes
By default, a frame is captured 30 times per second. If this option is
set, every frame is captured. Note that the video file will still play
at 30fps, so the speed will vary unless the application has been
written to use a fixed time-step between frames for its internal
animation (this is a useful way to produce smooth video if the
capturing overhead is otherwise too high).
.TP
.B lag
Sets the latency between beginning frame capture and encoding. On
systems that support the
.B GL_EXT_pixel_buffer_object
extension, making this value greater than 1 can help mask readback
latencies at the expense of video memory.
.SH BUGS
Not all codecs supported by
.BR ffmpeg (1)
can be used, as some of them import format restrictions that bugle does
not handle.
.SH AUTHOR
.B gldb
and the
.B bugle
library are written and maintained by Bruce Merry
<bmerry@users.sourceforge.net>.
.SH SEE ALSO
.BR bugle (3),
.BR ffmpeg (1),
.BR ppm (5)
