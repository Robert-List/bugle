#!/usr/bin/env python

Import('env', 'srcdir', 'builddir', 'libbugle', 'libbugleutils')

filter_env = env.Clone(
        LIBS = libbugle + libbugleutils,
        LINKFLAGS = '-Wl,-soname,${TARGET.file}',
        SHLIBPREFIX = '')

for filter in [
        'common',
        'showextensions',
        'validate',
        'unwindstack',
        'checks',
        'trace',
        'exe',
        'debugger',
        'extoverride',
        'stats_basic',
        'stats_calls',
        'stats_calltimes',
        'stats_nv',
        'stats_primitives',
        'logstats']:
    filter_env.LoadableModule(filter, [filter + '.c'])
